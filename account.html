<!DOCTYPE html>
<html>
<head>
  <title>LOGIN / SIGN UP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @font-face {
      font-family: 'Montserrat';
      src: url('https://enviro500.github.io/Montserrat-Medium.ttf') format('truetype');
    }
    body {
      background-color: black;
      color: white;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 15px;
      line-height: 1.5;
      text-align: center;
      padding: 50px;
    }
    input[type=email], input[type=password] {
      padding: 15px;
      font-family:'Montserrat';
      border-radius: 15px;
      border: none;
      outline: none;
      font-size: 16px;
      margin-bottom: 20px;
      width: 250px;
    }
    button[type=submit] {
      padding: 15px 55px;
      font-family:'Montserrat';
      border-radius: 15px;
      border: none;
      background-color: #4A00B0;   
      color: white;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
      text-transform: uppercase;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }
    #buttonContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 20px;
    }
    #googleSignInContainer {
      margin-bottom: 20px;
    }
    button[type=submit]:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }
  </style>
  <!-- Include Firebase JavaScript SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase.js"></script>
  <!-- Include Google Sign-In API -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>
<body>
  <h1><img src="https://i.ibb.co/1Qbf8c9/Screenshot-2023-05-02-214906.png" alt="" width="356" height="112" /></h1>
  
  <!-- Login / Sign Up Form -->
  <form id="authForm">
    <h2>LOGIN / SIGN UP</h2>
    <input type="email" id="email" placeholder="Email" required><br>
    <input type="password" id="password" placeholder="Password" required><br>
    
    <!-- Button container for Sign in with Google and Log On buttons -->
    <div id="buttonContainer">
      <!-- "Sign in with Google" button -->
      <div id="googleSignInContainer"></div>
      
      <!-- "Log On" button -->
      <button type="submit">Log On</button>
    </div>
  </form>
  
  <div id="result"></div>
  
  <script>
    var authForm = document.querySelector('#authForm');
    var result = document.querySelector('#result');

    authForm.addEventListener('submit', function(e) {
      e.preventDefault();

      var email = document.querySelector('#email').value;
      var password = document.querySelector('#password').value;

      // Initialize Firebase if not already initialized
      if (!firebase.apps.length) {
        var firebaseConfig = {
          apiKey: "YOUR_API_KEY",
          authDomain: "your-project-id.firebaseapp.com",
          projectId: "your-project-id",
          storageBucket: "your-project-id.appspot.com",
          messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
          appId: "YOUR_APP_ID",
          measurementId: "YOUR_MEASUREMENT_ID"
        };
        firebase.initializeApp(firebaseConfig);
      }

      // Try to sign in the user first
      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(function(userCredential) {
          // User is logged in successfully
          result.textContent = 'Login successful';
          // You can redirect the user to another page here
        })
        .catch(function(error) {
          // If the user doesn't exist, try to sign them up
          if (error.code === "auth/user-not-found") {
            firebase.auth().createUserWithEmailAndPassword(email, password)
              .then(function(userCredential) {
                // User is signed up successfully
                result.textContent = 'Sign up successful';
                // You can redirect the user to another page here
              })
              .catch(function(error) {
                // Handle errors
                var errorCode = error.code;
                var errorMessage = error.message;
                result.textContent = 'Error: ' + errorCode + ' - ' + errorMessage;
              });
          } else {
            // Handle other errors
            var errorCode = error.code;
            var errorMessage = error.message;
            result.textContent = 'Error: ' + errorCode + ' - ' + errorMessage;
          }
        });
    });

    // Google Sign-In setup
    function initGoogleSignIn() {
      gapi.load('auth2', function() {
        gapi.auth2.init({
          client_id: 'YOUR_GOOGLE_CLIENT_ID'
        });
        attachGoogleSignIn(document.getElementById('googleSignInContainer'));
      });
    }

    function attachGoogleSignIn(element) {
      gapi.signin2.render(element, {
        'scope': 'profile email',
        'width': 200,
        'height': 40,
        'longtitle': true,
        'theme': 'dark',
        'onsuccess': onGoogleSignUpSuccess,
        'onfailure': onGoogleSignUpFailure
      });
    }

    // Function placeholders for Google Sign-In callbacks
    function onGoogleSignUpSuccess(googleUser) {
      // Handle Google Sign-In success
    }

    function onGoogleSignUpFailure(error) {
      // Handle Google Sign-In failure
    }

    // Call the function to load Google Sign-In API and initialize
    function loadGoogleSignInAPI() {
      var script = document.createElement('script');
      script.src = 'https://apis.google.com/js/platform.js';
      script.onload = function() {
        initGoogleSignIn();
      };
      document.body.appendChild(script);
    }

    // Call the function to load Google Sign-In API
    loadGoogleSignInAPI();
  </script>
</body>
</html>
